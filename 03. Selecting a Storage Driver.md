Selecting a Storage Driver
========================

Storage drivers provides a pluggable framework for managing the temporary, internal storage of a container's writable layer.
Docker supports a variety of storage drivers. The best storage drivers to use depends on you environment and your storage needs

overlay1: File-based storage. Default for Ubuntu and CentOS 8+.

devicemapper: Block storage, more efficent for doing lots of writes. Defaults for CentOS 7 and earlier


1. Get the current storage driver:
  ```
  docker info
  
   Storage Driver: devicemapper
   Pool Name: docker-202:1-649113-pool
   Pool Blocksize: 65.54kB
   Base Device Size: 10.74GB

  
  ```
2. Set the storage driver explicitly by providing a flag to the Docker daemon:
  ```
  sudo vi /usr/lib/systemd/system/docker.service
  ```
3. Edit the ExecStart line, adding the --storage-driver devicemapper flag:
  ```
  ExecStart=/usr/bin/dockerd --storage-driver devicemapper ...
  ```

4. After any edits to the unit file, reload Systemd and restart Docker:
  ```
  sudo systemctl daemon-reload
  sudo systemctl restart docker
  ```
5. We can also set the storage driver explicitly using the daemon configuration file. 
This is the method that Docker recommends. 
Note that we cannot do this and pass the --storage-driver flag to the daemon at the same time:
  ```
  sudo vi /etc/docker/daemon.json
  ```

6. Set the storage driver in the daemon configuration file:
  ```
  {
    "storage-driver": "devicemapper"
  }
  ```

7. Restart Docker after editing the file. 
   It is also a good idea to make sure Docker is running properly after changing the configuration file:

  ```
  sudo systemctl restart docker
  sudo systemctl status docker
  ```

